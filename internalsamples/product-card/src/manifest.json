{
    "_version": "1.14.0",
    "sap.app": {
        "id": "ns.wzgea_products_by_category_card",
        "type": "card",
        "title": "Products by Category Card",
        "subTitle": "UI5 Integration Card of Type List",
        "applicationVersion": {
            "version": "1.0.0"
        }
    },
    "sap.ui": {
        "technology": "UI5",
        "deviceTypes": {
            "desktop": true,
            "phone": true,
            "tablet": true
        },
        "icons": {
            "icon": "sap-icon://list"
        }
    },
    "sap.card": {
        "type": "List",
        "configuration": {
            "destinations": {
                "S4T": {
                    "name": "s4hanart"
                }
            },
            "parameters": {
                "title": {
                    "value": "List Card with Top {{parameters.maxItems}} Products"
                },
                "subTitle": {
                    "value": "These are the top supplier this month"
                },
                "maxItems": {
                    "value": 4
                },
                "selectedCategoryName": {
                    "value": "Company"
                }
            },
            "filters": {
                "mainCategory": {
                    "value": "{{parameters.selectedCategoryName}}",
                    "type": "string",
                    "label": "Company Name",
                    "description": "Filter suppliers by company.",
                    "item": {
                        "path": "/d/results",
                        "template": {
                            "key": "{CompanyCode}",
                            "title": "{CompanyCodeName}"
                        }
                    },
                    "data": {
                        "request": {
                            "url": "{{destinations.S4T}}/sap/opu/odata/sap/FAP_DISPLAY_SUPPLIER_LIST/I_CompanyCodeVH",
                            "withCredentials": true
                        }
                    },
                    "options": [
                        "date",
                        "today",
                        "dateRange",
                        "from",
                        "to",
                        "lastDays",
                        "nextDays",
                        "lastWeeks",
                        "nextWeeks"
                    ]
                }
            }
        },
        "data": {
            "request": {
                "url": "{{destinations.S4T}}/sap/opu/odata/sap/FAP_DISPLAY_SUPPLIER_LIST/C_SupplierList",
                "parameters": {
                    "$filter": "CompanyCode eq '{filters>/mainCategory/value}'"
                },
                "withCredentials": true
            },
            "path": "/d/results"
        },
        "designtime": "dt/configuration",
        "header": {
            "title": "Suppliers filtered by {filters>/mainCategory/selectedItem/title} company",
            "subTitle": "{{parameters.subTitle}}",
            "icon": {
                "src": "sap-icon://desktop-mobile"
            },
            "status": {
                "text": "{{parameters.maxItems}} of 20"
            }
        },
        "content": {
            "item": {
                "title": "{Supplier}",
                "description": "{SupplierName}",
                "info": {
                    "value": "{CompanyCodeName}"
                }
            },
            "maxItems": "{{parameters.maxItems}}"
        }
    },
    "sap.platform.mobilecards": {
        "compatible": false
    }
}